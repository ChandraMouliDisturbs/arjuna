<?xml version= "1.0"?>
<project name="arjunastartup" default="arjunastartup_build" basedir=".">
	<description>
simple example build file
</description>
	<!-- set global properties for this build -->

	<!-- ======================================================================================== -->
	<!-- ===================================== GLOBAL PROPERTIES =================================================== -->
	<!-- ===================================== AC-arjuna =================================================== -->
	<!-- ======================================================================================== -->

	<property name="arjunastartup.build_version" value="${autocognite.build.version}" />
	<property name="arjunastartup.proj.name" value="AC-Arjuna-Startup" />
	<property name="arjunastartup.name" value="autocognite-arjuna-pro-startup-edition" />
	<property name="arjunastartup.github.rep.name" value="arjuna" />
	<property name="root.arjunastartup.dir" value="${all.sources.dir}/${arjunastartup.github.rep.name}" />
	<property name="proj.arjunastartup.dir" value="${root.arjunastartup.dir}/${arjunastartup.proj.name}" />
	<property name="src.arjunastartup.dir" location="${proj.arjunastartup.dir}/src" />
	<property name="arjunastartup.prefix" value="${arjunastartup.name}-${arjunastartup.build_version}" />
		
	<property name="arjunastartup.dist.file.name" value="${arjunastartup.prefix}.zip" />
	<property name="arjunastartup.jar.file.name" value="${arjunastartup.name}.jar" />
	<property name="arjunastartup.full.jar.file.name" value="${arjunastartup.prefix}.jar" />
	<property name="arjunastartup.src.file.name" value="${arjunastartup.prefix}-sources.zip" />
	<property name="ant.arjunastartup.root.dir" value="${current.build.dir}/${arjunastartup.proj.name}" />
	<property name="ant.arjunastartup.build.dir" location="${ant.arjunastartup.root.dir}/build" />
	<property name="ant.arjunastartup.jar.dir" location="${ant.arjunastartup.root.dir}/jar" />
	<property name="ant.arjunastartup.jar.file" value="${ant.arjunastartup.jar.dir}/${arjunastartup.jar.file.name}.jar" />
	
	<property name="private.arjunastartup.jars.dir" value="${current.dist.private.dir}/arjuna_jars/arjuna-startup" />
	<property name="private.arjunastartup.self.jar.dir" value="${private.arjunastartup.jars.dir}/self" />
	<property name="private.arjunastartup.self.jar.file" value="${private.arjunastartup.self.jar.dir}/${arjunastartup.jar.file.name}" />
	<property name="private.arjunastartup.clear.jar.dir" value="${private.arjunastartup.jars.dir}/open" />
	<property name="private.arjunastartup.clear.jar.file" value="${private.arjunastartup.clear.jar.dir}/clear_${arjunastartup.jar.file.name}" />
	<property name="private.arjunastartup.obfuscated.jar.dir" value="${private.arjunastartup.jars.dir}/obfuscated" />
	<property name="private.arjunastartup.obfuscated.jar.file" value="${private.arjunastartup.obfuscated.jar.dir}/obfuscated_${arjunastartup.jar.file.name}" />

	<property name="private.arjunastartup.dist.tools.dir" value="${current.dist.private.tools.dir}/${arjunastartup.name}-dist" />
	<property name="private.arjunastartup.dist.tools.root.dir" value="${private.arjunastartup.dist.tools.dir}/arjuna-pro" />
	<property name="private.arjunastartup.dist.tools.jar.dir" value="${private.arjunastartup.dist.tools.root.dir}/bin/lib/java" />
	<property name="private.arjunastartup.dist.tools.jar.file" value="${private.arjunastartup.dist.tools.jar.dir}/${arjunastartup.full.jar.file.name}" />
	<property name="private.arjunastartup.dist.jar.file" value="${current.dist.private.jars.dir}/${arjunastartup.full.jar.file.name}" />
	<property name="private.arjunastartup.dist.src.dir" value="${current.dist.private.sources.dir}/${arjunastartup.prefix}" />
	
	<property name="public.tools.arjunastartup.dir" value="${current.dist.public.tools.dir}/${arjunastartup.name}" />
	<property name="public.tools.arjunastartup.dist.file" value="${public.tools.arjunastartup.dir}/${arjunastartup.dist.file.name}" />
	
	
	<target name="arjunastartup_mkdirs">
		<property name="arjEd" value="${ed}" />
		<property name="source.private.meta.examples.my.dir" value="${source.private.meta.examples.dir}/${arjEd}" />
		<echo message="HERE ${source.private.meta.examples.my.dir}"/>
		<property name="source.private.meta.bin.my.dir" value="${source.private.meta.bin.dir}/${arjEd}" />
		<property name="source.private.meta.docs.my.dir" value="${source.private.meta.docs.dir}/${arjEd}" />
		<property name="source.private.meta.lntexts.my.dir" value="${source.private.meta.lntexts.dir}/${arjEd}" />
		<property name="source.private.meta.config.my.dir" value="${source.private.meta.config.dir}/${arjEd}" />

		<mkdir dir="${ant.arjunastartup.root.dir}" />
		<mkdir dir="${ant.arjunastartup.build.dir}" />
		<mkdir dir="${ant.arjunastartup.jar.dir}" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/docs" />
		<mkdir dir="${private.arjunastartup.dist.components.jar.dir}" />
		<mkdir dir="${public.tools.arjunastartup.dir}" />
		<mkdir dir="${private.arjunastartup.dist.src.dir}/${arjunastartup.name}/src" />
		<mkdir dir="${private.arjunastartup.dist.src.dir}/${arjunastartup.name}/docs" />
		<mkdir dir="${private.arjunastartup.obfuscated.jar.dir}"/>
		<mkdir dir="${private.arjunastartup.self.jar.dir}"/>
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/bin" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/bin/lib/java" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/examples" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/examples/data" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/config" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/temp" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/bin/scripts" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/bin/tools" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/bin/tools/uidrivers" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/bin/ext" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/bin/ext/java" />
		<mkdir dir="${private.arjunaplatform.dist.tools.root.dir}/bin/plugins" />
		<mkdir dir="${private.arjunaplatform.dist.tools.root.dir}/bin/plugins/java" />
		
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/archives" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/data" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/data/sources" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/data/references" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/log" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/temp" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/scripts" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/tests" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/report" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/ui_maps" />
		<mkdir dir="${private.arjunastartup.dist.tools.root.dir}/mproject/ui_images" />

		<copy todir="${private.arjunastartup.dist.tools.root.dir}/docs">
					<fileset dir="${source.private.meta.docs.common.dir}">
						<include name="**/*.*" />
					</fileset>
					<fileset dir="${source.private.meta.docs.my.dir}">
						<include name="**/*.*" />
					</fileset>
				</copy>
				
				<copy todir="${private.arjunastartup.dist.tools.dir}">
					<fileset dir="${source.private.meta.lntexts.common.dir}">
						<include name="**/*.*" />
					</fileset>
					<fileset dir="${source.private.meta.lntexts.my.dir}">
						<include name="**/*.*" />
					</fileset>
				</copy>
				
				<copy todir="${private.arjunastartup.dist.src.dir}/${arjunastartup.name}/docs">
					<fileset dir="${source.private.meta.docs.common.dir}">
						<include name="**/*.*" />
					</fileset>
					<fileset dir="${source.private.meta.docs.my.dir}">
						<include name="**/*.*" />
					</fileset>
				</copy>
				
				<copy todir="${private.arjunastartup.dist.src.dir}">
					<fileset dir="${source.private.meta.lntexts.common.dir}">
						<include name="**/*.*" />
					</fileset>
					<fileset dir="${source.private.meta.lntexts.my.dir}">
						<include name="**/*.*" />
					</fileset>
				</copy>
				
				<copy todir="${private.arjunastartup.dist.tools.root.dir}/bin">
					<fileset dir="${source.private.meta.bin.common.dir}">
						<include name="**/*.*" />
					</fileset>
					<fileset dir="${source.private.meta.bin.my.dir}">
						<include name="**/*.*" />
					</fileset>
				</copy>
		
				<copy todir="${private.arjunastartup.dist.tools.root.dir}/examples">
					<fileset dir="${source.private.meta.examples.common.dir}">
						<include name="**/*.*" />
					</fileset>
					<fileset dir="${source.private.meta.examples.my.dir}">
						<include name="**/*.*" />
					</fileset>
				</copy>
				
				<copy todir="${private.arjunastartup.dist.tools.root.dir}/config">
					<fileset dir="${source.private.meta.config.common.dir}">
						<include name="**/*.*" />
					</fileset>
					<fileset dir="${source.private.meta.config.my.dir}">
						<include name="**/*.*" />
					</fileset>
				</copy>
	</target>
	
	<!-- ===================================== AC-Batteries =================================================== -->

	<target name="arjunastartup_compile">
		<!-- Create the time stamp -->
		<tstamp />
		<!-- Create the build directory structure used by compile -->

		<javac srcdir="${src.arjunastartup.dir}" destdir="${ant.arjunastartup.build.dir}" debug="true" debuglevel="lines,vars,source" includeantruntime="false">
			<classpath refid="build.classpath" />
		</javac>
		
		<copy todir="${ant.arjunastartup.build.dir}">
		    <fileset dir="${src.arjunastartup.dir}"
		             includes="**/*.conf" />
		    <fileset dir="${src.arjunastartup.dir}"
		             includes="**/*.help" />
		</copy>

		<jar jarfile="${ant.arjunastartup.jar.file}" basedir="${ant.arjunastartup.build.dir}" />
		<copy file="${ant.arjunastartup.jar.file}" tofile="${private.arjunastartup.self.jar.file}" />
		<jar destFile="${private.arjunastartup.clear.jar.file}">
			<zipgroupfileset includes="*.jar" dir="${private.batteries.self.jar.dir}" />
			<zipgroupfileset includes="*.jar" dir="${private.unitee.core.self.jar.dir}" />
			<zipgroupfileset includes="*.jar" dir="${private.uiautomator.self.jar.dir}" />
			<zipgroupfileset includes="*.jar" dir="${private.arjunastartup.self.jar.dir}" />
		</jar>
		
		<copy todir="${private.arjunastartup.dist.src.dir}/${arjunastartup.name}/src">
			<fileset dir="${src.arjunastartup.dir}">
				<include name="**/*.*" />
			</fileset>
		</copy>
	</target>
			
	<target name="arjunastartup_build">
		<jar destFile="${private.arjunastartup.dist.tools.jar.file}">
		<zipgroupfileset includes="*.jar" dir="${3rd_party_batteries_jars}"/>
			<zipgroupfileset includes="*.jar" dir="${private.arjunastartup.obfuscated.jar.dir}"/>
		</jar>

		<zip destfile="${public.tools.arjunastartup.dist.file}" basedir="${private.arjunastartup.dist.tools.dir}" />
		
		<copy file="${private.arjunastartup.dist.tools.jar.file}" tofile="/Users/rahulverma/Documents/_autocognite/build_under_test/autocognite-arjuna/lib/java/arjunastartup.jar"/>
		<copy file="${private.arjunastartup.dist.tools.jar.file}" tofile="/Users/rahulverma/Documents/VirtualBox_VMs/shared_dir/win/autocognite-arjuna/lib/java/arjunastartup.jar"/>

	</target>

</project>