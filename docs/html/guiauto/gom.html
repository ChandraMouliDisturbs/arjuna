
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advanced Gui Abstraction &#8212; Arjuna 0.9.18 documentation</title>
    <link rel="stylesheet" href="../_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Element Templates" href="templates.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = '../';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="templates.html" title="Element Templates"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Arjuna 0.9.18 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Web GUI Automation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="advanced-gui-abstraction">
<span id="element"></span><h1>Advanced Gui Abstraction<a class="headerlink" href="#advanced-gui-abstraction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concept-of-gui-in-arjuna">
<h2>Concept of Gui in Arjuna<a class="headerlink" href="#concept-of-gui-in-arjuna" title="Permalink to this headline">¶</a></h2>
<p>Graphical User Interfaces are represented using the <cite>Gui</cite> class in Arjuna. It provides all methods to interact with the Gui as well for creation of objects for its visual elements.</p>
<p>Arjuna has three types of <cite>Gui</cite>’s, namely <cite>GuiApp</cite>, <cite>GuiPage</cite> and <cite>GuiSection</cite> and any children thereof.</p>
<p>Note that <cite>GuiWidget</cite> and <cite>GuiDialog</cite> are aliases for <a href="#id1"><span class="problematic" id="id2">`</span></a>GuiSection`currently, but this behavior could change in future.</p>
<div class="section" id="the-guiapp-class">
<h3>The GuiApp Class<a class="headerlink" href="#the-guiapp-class" title="Permalink to this headline">¶</a></h3>
<p>In addition to directly creating an object of App, you can also inherit from it and extend it.</p>
<p>For example:</p>
<p><a href="#id3"><span class="problematic" id="id4">``</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a>python
class WordPress(GuiApp):</p>
<blockquote>
<div><dl class="simple">
<dt>def __init__(self):</dt><dd><p>url = C(“wp.login.url”)
super().__init__(base_url=url)</p>
</dd>
</dl>
</div></blockquote>
<p><a href="#id7"><span class="problematic" id="id8">``</span></a><a href="#id9"><span class="problematic" id="id10">`</span></a></p>
<p>Within the class’ methods, you can now access its methods directly:</p>
<p><code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">self.gns.abc</span> <span class="pre">#</span> <span class="pre">Element</span> <span class="pre">for</span> <span class="pre">abc</span> <span class="pre">label</span> <span class="pre">in</span> <span class="pre">GNS</span>
<span class="pre">self.launch()</span>
<span class="pre">`</span></code></p>
</div>
<div class="section" id="the-guipage-class">
<h3>The GuiPage Class<a class="headerlink" href="#the-guipage-class" title="Permalink to this headline">¶</a></h3>
<p>You can implement a GuiPage by inheriting from <cite>GuiPage</cite> class:</p>
<p><a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">`</span></a>python
class Home(GuiPage):</p>
<blockquote>
<div><dl class="simple">
<dt>def __init__(self, source_gui):</dt><dd><p>url = C(“wp.login.url”)
super().__init__(source_gui=source_gui)</p>
</dd>
</dl>
</div></blockquote>
<p><a href="#id15"><span class="problematic" id="id16">``</span></a><a href="#id17"><span class="problematic" id="id18">`</span></a></p>
<p>A <cite>GuiPage</cite> must be provided with a <cite>source_gui</cite> i.e. the <cite>Gui</cite> from where the page is being created.</p>
</div>
<div class="section" id="the-guisection-class">
<h3>The GuiSection Class<a class="headerlink" href="#the-guisection-class" title="Permalink to this headline">¶</a></h3>
<p>You can implement a GuiSection by inheriting from <cite>GuiSection</cite> class:</p>
<p><a href="#id19"><span class="problematic" id="id20">``</span></a><a href="#id21"><span class="problematic" id="id22">`</span></a>python
class LeftNav(GuiSection):</p>
<blockquote>
<div><dl class="simple">
<dt>def __init__(self, page):</dt><dd><p>url = C(“wp.login.url”)
super().__init__(page=page)</p>
</dd>
</dl>
</div></blockquote>
<p><a href="#id23"><span class="problematic" id="id24">``</span></a><a href="#id25"><span class="problematic" id="id26">`</span></a></p>
<p>A <cite>GuiSection</cite> must be provided with a <cite>page</cite> i.e. the <cite>GuiPage</cite> for which the section is being created.</p>
</div>
</div>
<div class="section" id="gui-abstraction-models">
<h2>Gui Abstraction Models<a class="headerlink" href="#gui-abstraction-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="app-model-using-app-class">
<h3>App Model using App class<a class="headerlink" href="#app-model-using-app-class" title="Permalink to this headline">¶</a></h3>
<p>You can implement a class as a <cite>GuiApp</cite> by using inheritance. This is the suggested way of implenting a web application abstraction in Arjuna.</p>
<p>This is the simplest way to get started with an equivalent of GuiPage Object Model (POM), GuiPage Factories, Loadable Component, all clubbed into one concept. We represent the complete appplication as a single class which is attached to a a single GNS file for externalization. It should work well for small apps or where you are automating only a small sub-set of the application.</p>
</div>
<div class="section" id="app-page-model-using-guiapp-and-guipage-classes">
<h3>App-Page Model using GuiApp and GuiPage Classes<a class="headerlink" href="#app-page-model-using-guiapp-and-guipage-classes" title="Permalink to this headline">¶</a></h3>
<p>For professional test automation, where you automate multiple use cases across different pages/screens, a simple App Model will not suffice. In the simple App Model, the GNS file will be cluttered with labels from multiple pages and the <cite>GuiApp</cite> class will have so many methods that it will impact code mainteance and understandability.</p>
<p>One step forward from Arjuna’s App Model is the App-Page Model:
1. You  implement the web application as a child of <cite>GuiApp`class.
2. We implemented each web page of interest as a child of `GuiPage</cite> class.
3. The <cite>GuiPage</cite> classes have methods to move from one page to another.</p>
</div>
<div class="section" id="app-page-section-model-using-guiapp-guipage-and-guisection-classes">
<h3>App-Page-Section Model using GuiApp, GuiPage and GuiSection Classes<a class="headerlink" href="#app-page-section-model-using-guiapp-guipage-and-guisection-classes" title="Permalink to this headline">¶</a></h3>
<p>Consider the following:
1. Typcally, the web applications follow a set of a templates for different pages. Such templates have some repetitive sections across multiple pages. Examples: Left navigation bars, Top Menus, Sidebars etc.
2. Some application pages might be two complex to be represented as a single page.
3. Some similar HTML components like tables etc. are resued across multiple pages as a part of their contents.</p>
<p>Unless you address the above in the way you implement the Gui abstraction, the code will not clearly represent the Gui. Also, even if externalized, this could result in repeated identifiers across different GNS files.</p>
<p>One step forward from Arjuna’s App-GuiPage Model is the App-GuiPage-GuiSection Model:
1. Implement the web application as a child of <cite>GuiApp`class.
2. Implement each web page of interest as a child of `GuiPage</cite> class.
3. GuiPages inherit from different template base pages to represent common structures.
4. Reusables page portions are implemented as <cite>GuiSection`s and a correct composition relationship is established between a `GuiPage</cite> and its <a href="#id27"><span class="problematic" id="id28">`</span></a>GuiSection`s using OOP.
5. In short, Apps have pages and a page can have sections.</p>
</div>
</div>
<div class="section" id="arjuna-s-gui-loading-model">
<h2>Arjuna’s Gui Loading Model<a class="headerlink" href="#arjuna-s-gui-loading-model" title="Permalink to this headline">¶</a></h2>
<p>All <cite>Gui`s follow the `Gui Loading Mechanism</cite> in Arjuna. For a <cite>GuiApp</cite>, loading logic is triggered when it is launched (<cite>launch</cite> method called). For <cite>GuiPage</cite> and <cite>GuiSection</cite> it takes place as a part of initialization (<cite>super().__init__()</cite> call.)</p>
<p>We can hook into the mechanism by implementing one or more of the three hooks made available by Arjuna to all <cite>Gui`s. We don’t need to do anything special to the `Gui</cite> classes to make it happen. It is available by default. On the other end, if we don’t want to use it, we don’t need to do anything at all because all the hook methods are optional.</p>
<p>It draws inspiration from Selenium Java’s implementation of Loadable Component but it is Arjuna’s custom implementation using its own conditions and wait mechanism.</p>
<ol class="arabic simple">
<li><p>Gui’s <cite>prepare</cite> method is called with any <cite>*args</cite> and <cite>**kwargs</cite> provided in the <cite>__init__</cite> implementation of a child <cite>Gui</cite>. This is the method which you use for externalization of Gui definitions.</p></li>
<li><p>Root Element is polled for, if defined, until <cite>ArjunaOption.GUIAUTO_MAX_WAIT</cite> number of seconds. In case of exception, loading stops here and <cite>GuiNotLoadedError</cite> is raised.</p></li>
<li><p>Anchor Element is polled for, if defined, until <cite>ArjunaOption.GUIAUTO_MAX_WAIT</cite> number of seconds. In case of exception, loading stops here and <cite>GuiNotLoadedError</cite> is raised.</p></li>
<li><p><cite>validate_readiness</cite> method is called. If it does not raise any exception, then the loading mechanism stops here.</p></li>
<li><p>If in <strong>step 4</strong>, an exception of type <cite>arjuna.tpi.exceptions.WaitableError</cite> (or its sub-type) is raised, then the next steps as mentioned in <strong>Step 6 and 7</strong> are performed, else <cite>GuiNotLoadedError</cite> exception is raised.</p></li>
<li><p>Gui’s <cite>reach_until</cite> method is called. If any exception is raised by it, then <cite>GuiNotLoadedError</cite> exception is raised, else <strong>step 7</strong> is executed.</p></li>
<li><p>This time <cite>validate_readiness</cite> is called, but not directly. It is tied to the <cite>GuiReady</cite> condition which is polling wait-based caller. If <cite>validate_readiness</cite> raises an exception of type <cite>arjuna.tpi.exceptions.WaitableError</cite> (or its sub-type), <cite>GuiReady</cite> condition keeps calling it until <cite>ArjunaOption.GUIAUTO_MAX_WAIT</cite> number of seconds are passed in <cite>Gui</cite>’s configuration. If successful, during the wait time, then Gui is considered loaded, else <cite>GuiNotLoadedError</cite> exception is raised.</p></li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Advanced Gui Abstraction</a><ul>
<li><a class="reference internal" href="#concept-of-gui-in-arjuna">Concept of Gui in Arjuna</a><ul>
<li><a class="reference internal" href="#the-guiapp-class">The GuiApp Class</a></li>
<li><a class="reference internal" href="#the-guipage-class">The GuiPage Class</a></li>
<li><a class="reference internal" href="#the-guisection-class">The GuiSection Class</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gui-abstraction-models">Gui Abstraction Models</a><ul>
<li><a class="reference internal" href="#app-model-using-app-class">App Model using App class</a></li>
<li><a class="reference internal" href="#app-page-model-using-guiapp-and-guipage-classes">App-Page Model using GuiApp and GuiPage Classes</a></li>
<li><a class="reference internal" href="#app-page-section-model-using-guiapp-guipage-and-guisection-classes">App-Page-Section Model using GuiApp, GuiPage and GuiSection Classes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#arjuna-s-gui-loading-model">Arjuna’s Gui Loading Model</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="../index.html">Overview</a>
    <ul>
      <li><a href="index.html">Web GUI Automation</a>
        <ul>
          <li>Previous: <a href="templates.html" title="previous chapter">Element Templates</a>
          </ul>
      </li>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Rahul Verma.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  <script src="../_static/version_warning_offset.js"></script>

  </body>
</html>