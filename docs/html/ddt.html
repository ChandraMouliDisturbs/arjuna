
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Data Driven Testing &#8212; Arjuna 0.9.18 documentation</title>
    <link rel="stylesheet" href="_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contextual Data References" href="data_ref.html" />
    <link rel="prev" title="Test Configuration" href="configuration.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="data_ref.html" title="Contextual Data References"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Test Configuration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Arjuna 0.9.18 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="data-driven-testing">
<span id="ddt"></span><h1>Data Driven Testing<a class="headerlink" href="#data-driven-testing" title="Permalink to this headline">¶</a></h1>
<p>Driving an automated test with data is a critical feature in test automation frameworks.</p>
<p>Here, we will explore various flexible options available in Arjuna for data driven testing.</p>
<p>You can supply <cite>drive_with</cite> argument to the <cite>&#64;test</cite> decorator to instruct Arjuna to associate a <cite>Data Source</cite> with a test. Depending on the needs, as described below, you use Arjuna’s markup for different types of data sources.</p>
<div class="section" id="single-data-record">
<h2>Single data record<a class="headerlink" href="#single-data-record" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, the need is simple. You have a single data record, but want to separate it from the test code for the sake of clarity.</p>
<p>This need is solved with the <cite>record</cite> markup of Arjuna. You can provide any number of positional or named arugments.</p>
<ol class="arabic simple">
<li><p>We provide <cite>drive_with</cite> argument to the <cite>&#64;test</cite> decorator.</p></li>
<li><p>To specify a single data record, we call the <cite>record</cite> factory function.</p></li>
<li><p><cite>record</cite> can take any number of positional or keyword arguments.</p></li>
<li><p>The signature of the test now contains a <cite>data</cite> argument.</p></li>
<li><p>Within the body of the tests, you access the positional values using indices (e.g. <cite>data[0]</cite>)</p></li>
<li><p>You can retrieve named values using a dictionary syntax (e.g. <cite>data[‘a’]</cite>) or dot syntax (e.g. <cite>data.a</cite>).</p></li>
<li><p>Names are case-insensitive. <cite>data[‘a’]</cite>, <cite>data[‘A’]</cite>, <cite>data.a</cite> and <cite>data.A</cite> mean the same thing.</p></li>
</ol>
</div>
<div class="section" id="multiple-data-records">
<h2>Multiple Data Records<a class="headerlink" href="#multiple-data-records" title="Permalink to this headline">¶</a></h2>
<p>You use the <cite>records</cite> factory function to provide multiple records. It can contain any number of <cite>record</cite> entries. The test will be repeated as many times as the number of records (2 in this example.)</p>
<p>The report will contain separate entries for each test. The name will indicate the data used. (e.g. <cite>test/module/check_04_dd_records.py::check_records[Data-&gt; Indexed:[7, 8] Named:{sum=10}]</cite>)</p>
<p>Retrieval of data values is done exactly the same way as in case of a single data record.</p>
</div>
<div class="section" id="driving-with-static-data-function">
<h2>Driving with Static Data Function<a class="headerlink" href="#driving-with-static-data-function" title="Permalink to this headline">¶</a></h2>
<p>Rather than including static data in Python code, one might want to generate data or pull data from an external service to create data records.</p>
<p>A simple way to achieve this is to write a data function. A static data function always behaves in the same manner.</p>
<p>We use <cite>data_function</cite> factory function to associate the data function with the test function Retrieval of values is same as earlier.</p>
</div>
<div class="section" id="driving-with-static-data-generator">
<h2>Driving with Static Data Generator<a class="headerlink" href="#driving-with-static-data-generator" title="Permalink to this headline">¶</a></h2>
<p>You can also use a Python generator instead of a normal function:</p>
</div>
<div class="section" id="driving-with-dynamic-data-function-or-generator">
<h2>Driving with Dynamic Data Function or Generator<a class="headerlink" href="#driving-with-dynamic-data-function-or-generator" title="Permalink to this headline">¶</a></h2>
<p>Another advanced measure that you can take is creating a data function which acts on the arguments supplied by you to govern the data it returns/generates.</p>
<p>Data functions can take any number of arguments - positional as well as named. You supply the arguments in the <cite>data_function</cite> builder function to control the data function.</p>
</div>
<div class="section" id="driving-with-static-data-classes">
<h2>Driving with Static Data Classes<a class="headerlink" href="#driving-with-static-data-classes" title="Permalink to this headline">¶</a></h2>
<p>Instead of a function, you can also represent your data generation logic as a data class. The Data Class must implement Python’s Iteration Protocol. A static data class always behaves in the same manner.</p>
<p>We use <cite>data_class</cite> factory function to associate the data class with the test function. Retrieval of values is same as earlier.</p>
</div>
<div class="section" id="driving-with-dynamic-data-classes">
<h2>Driving with Dynamic Data Classes<a class="headerlink" href="#driving-with-dynamic-data-classes" title="Permalink to this headline">¶</a></h2>
<p>Another advanced measure that you can take is creating a data class which acts on the arguments supplied by you to govern the data it generates.</p>
<p>Data classes can take any number of arguments - positional as well as named. You supply the arguments in the <cite>data_class</cite> factory function to control the data class.</p>
</div>
<div class="section" id="driving-with-data-files">
<h2>Driving with Data Files<a class="headerlink" href="#driving-with-data-files" title="Permalink to this headline">¶</a></h2>
<p>For large, static data it might be useful to externalize the data completely outside of Python code.</p>
<p>Arjuna supports data externalization in XLS, TSV/CSV and INI files out of the box.</p>
<p>You can use <cite>data_file</cite> factory function to specify a data file. Arjuna determines the loader based on the file extension.</p>
<p>The files are automatically picked up from <cite>Data Sources directory</cite> which is <cite>&lt;Project Root&gt;/data/source</cite>.</p>
<div class="section" id="driving-with-excel-file">
<h3>Driving with Excel File<a class="headerlink" href="#driving-with-excel-file" title="Permalink to this headline">¶</a></h3>
<p>An excel data file can contain data in following format. (Only .xls files are supported as of now)</p>
<img alt="_images/inputxls.png" src="_images/inputxls.png" />
</div>
<div class="section" id="driving-with-delimiter-separated-file">
<h3>Driving with Delimiter Separated File<a class="headerlink" href="#driving-with-delimiter-separated-file" title="Permalink to this headline">¶</a></h3>
<p>An delimiter-separated data file can contain data in following format. The delim</p>
<p><strong>.txt</strong></p>
<p><strong>.csv</strong></p>
<p>Default delimiter is <cite>tab</cite>. If you use any other delimiter, you can pass it as <cite>delimiter</cite> argument.</p>
</div>
<div class="section" id="driving-with-ini-file">
<h3>Driving with INI File<a class="headerlink" href="#driving-with-ini-file" title="Permalink to this headline">¶</a></h3>
<p>An INI data file can contain data in following format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Record</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">Left</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">Right</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Sum</span> <span class="o">=</span> <span class="mi">3</span>

<span class="p">[</span><span class="n">Record</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">Left</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">Right</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">Sum</span> <span class="o">=</span> <span class="mi">8</span>
</pre></div>
</div>
</div>
<div class="section" id="data-files-with-exclude-filter-for-records">
<h3>Data Files with Exclude Filter for Records<a class="headerlink" href="#data-files-with-exclude-filter-for-records" title="Permalink to this headline">¶</a></h3>
<p>At times, you might want to selectively mark records in data files to be excluded from consideration.</p>
<p>You can do this by adding a column named <cite>exclude</cite> and set it to <cite>y/yes/true</cite> to exclude a record.</p>
<p>For delimiter-separated-files, you can also comment a record by putting a <cite>#</cite> at the beginning.</p>
<p>For INI files, you can also comment a complete record by using <cite>;</cite> which is the commenting symbol for INI files.</p>
</div>
</div>
<div class="section" id="driving-with-multiple-data-sources">
<h2>Driving with Multiple Data Sources<a class="headerlink" href="#driving-with-multiple-data-sources" title="Permalink to this headline">¶</a></h2>
<p>You can associate multiple data sources with a single test in Arjuna.</p>
<p>We can achieve this by using the <cite>many_data_sources</cite> factory function.</p>
<p>The data sources are picked up sequentially with this construct.</p>
</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Data Driven Testing</a><ul>
<li><a class="reference internal" href="#single-data-record">Single data record</a></li>
<li><a class="reference internal" href="#multiple-data-records">Multiple Data Records</a></li>
<li><a class="reference internal" href="#driving-with-static-data-function">Driving with Static Data Function</a></li>
<li><a class="reference internal" href="#driving-with-static-data-generator">Driving with Static Data Generator</a></li>
<li><a class="reference internal" href="#driving-with-dynamic-data-function-or-generator">Driving with Dynamic Data Function or Generator</a></li>
<li><a class="reference internal" href="#driving-with-static-data-classes">Driving with Static Data Classes</a></li>
<li><a class="reference internal" href="#driving-with-dynamic-data-classes">Driving with Dynamic Data Classes</a></li>
<li><a class="reference internal" href="#driving-with-data-files">Driving with Data Files</a><ul>
<li><a class="reference internal" href="#driving-with-excel-file">Driving with Excel File</a></li>
<li><a class="reference internal" href="#driving-with-delimiter-separated-file">Driving with Delimiter Separated File</a></li>
<li><a class="reference internal" href="#driving-with-ini-file">Driving with INI File</a></li>
<li><a class="reference internal" href="#data-files-with-exclude-filter-for-records">Data Files with Exclude Filter for Records</a></li>
</ul>
</li>
<li><a class="reference internal" href="#driving-with-multiple-data-sources">Driving with Multiple Data Sources</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="configuration.html" title="previous chapter">Test Configuration</a>
          <li>Next: <a href="data_ref.html" title="next chapter">Contextual Data References</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Rahul Verma.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  <script src="_static/version_warning_offset.js"></script>

  </body>
</html>