
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Localization of Strings &#8212; Arjuna 0.9.18 documentation</title>
    <link rel="stylesheet" href="_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Web GUI Automation" href="guiauto/index.html" />
    <link rel="prev" title="Contextual Data References" href="data_ref.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="guiauto/index.html" title="Web GUI Automation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="data_ref.html" title="Contextual Data References"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Arjuna 0.9.18 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="localization-of-strings">
<span id="l10n"></span><h1>Localization of Strings<a class="headerlink" href="#localization-of-strings" title="Permalink to this headline">¶</a></h1>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>As a part of automating tests, a test author might need to deal with localization of strings that are used for various purposes.</p>
<p>Arjuna supports Excel based localization data out of the box. These files are automatically loaded when <cite>Arjuna.init()</cite> is called by Arjuna launcher.</p>
</div>
<div class="section" id="locale-enum">
<h2>Locale Enum<a class="headerlink" href="#locale-enum" title="Permalink to this headline">¶</a></h2>
<p>Arjuna associates locale for localization with the Locale enum constant which in turn uses the names from Python.</p>
<p>The default locate is <cite>Locale.EN</cite>. It can be changed in a project configuration as follows:</p>
</div>
<div class="section" id="excel-based-localization">
<h2>Excel based Localization<a class="headerlink" href="#excel-based-localization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sample-localization-file">
<h3>Sample Localization File<a class="headerlink" href="#sample-localization-file" title="Permalink to this headline">¶</a></h3>
<p>The localization file follows the format of Excel Column Data Reference files.</p>
<p>You place such files in <cite>&lt;Project Root&gt;/l10n/excel</cite> directory. Two reference files can be found in this example project.</p>
<img alt="_images/l10_1.png" src="_images/l10_1.png" />
<p>First column is always the Reference column. The other columns represent the languages mentioned as <cite>Locale</cite> type in column heading.</p>
<p>In the example file, the columns mentions <cite>en</cite> and <cite>hi</cite> which are Locale value for English and Hindi respectively.</p>
<p>For demonstration purpose, 3 English words are provided with corresponding strings in Hindi.</p>
<img alt="_images/l10_2.png" src="_images/l10_2.png" />
<p>The second file <cite>sample2.xls</cite> has the same data except the localized string for <cite>Correct</cite> in Hindi which is different from <cite>sample1.xls</cite>.</p>
</div>
<div class="section" id="the-l-function-for-localization">
<h3>The L function for Localization<a class="headerlink" href="#the-l-function-for-localization" title="Permalink to this headline">¶</a></h3>
<p>You can access data references in your test code with Arjuna’s magic <cite>L</cite> function (similar to <cite>C</cite> and <cite>R</cite> functions seen in other features).</p>
<p>It has the following signature. The first argument is the query. <cite>locale</cite>, <cite>bucket</cite> and <cite>strict</cite> are optional arguments.</p>
<ul class="simple">
<li><p><cite>L(“Testing”)</cite> localizes the string as per the <cite>ArjunaOption.L10_LOCALE</cite> value in reference configuration. In <cite>project.conf</cite>, we have set it as <cite>HI</cite>.</p></li>
<li><p>You can also explcitily mention the locale as <cite>Locale.HI</cite>.</p></li>
<li><p>When a name is repeated across multiple localization files (buckets), the last one holds. <cite>L(“Correct”)</cite> will give the value from <cite>sample2</cite> file as it is loaded after <cite>sample1</cite>.</p></li>
<li><p>You can explcitily refer to a bucket by providing the <cite>bucket</cite> argument. Each Excel localization file represents a bucket and its name without the extension is the bucket name.</p></li>
<li><p>You can also provide the bucket name by prefixing it before the reference key, for example <cite>sample1.corr</cite>.</p></li>
<li><p><cite>strict</cite> argument is to switch strict node on or off.</p></li>
</ul>
</div>
</div>
<div class="section" id="json-based-localization">
<h2>JSON Based Localization<a class="headerlink" href="#json-based-localization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sample-localization-files">
<h3>Sample Localization Files<a class="headerlink" href="#sample-localization-files" title="Permalink to this headline">¶</a></h3>
<p>With JSON format, there is a specific structure expected. The sample files are placed in <cite>&lt;Project Root&gt;/l10n/json</cite> directory.</p>
<p>Following is the sample JSON localization structure:</p>
<ol class="arabic simple">
<li><p>Each directory represents a bucket with the name as that of directory. The concept is similar to an Excel file representing a bucket as discussed above.</p></li>
<li><p>The root directory represents the <cite>root</cite> bucket.</p></li>
<li><p>For a given bucket, the localization data for a <cite>Locale</cite> is kept in a file named <cite>&lt;locale&gt;.json</cite>.</p></li>
</ol>
</div>
<div class="section" id="sample-json-content">
<h3>Sample JSON Content<a class="headerlink" href="#sample-json-content" title="Permalink to this headline">¶</a></h3>
<p>Following is the content of one such file in root directory for German localization:</p>
<ol class="arabic simple">
<li><p>Each JSON path of keys repesents a string to be localized.</p></li>
<li><p>The key names should be kept same across language files.</p></li>
<li><p><cite>Key1.Key2…KeyN</cite> is the flattened syntax to refer a localized string e.g. <cite>address.coordinates</cite></p></li>
</ol>
</div>
<div class="section" id="using-the-l-function-with-json-localizer">
<h3>Using the L Function with JSON Localizer<a class="headerlink" href="#using-the-l-function-with-json-localizer" title="Permalink to this headline">¶</a></h3>
<p>Consider the following localization calls:</p>
<ol class="arabic simple">
<li><p>Use the flattened key syntax as discussed earlier.</p></li>
<li><p>The key names should be kept same across language files.</p></li>
<li><p><cite>Key1.Key2…KeyN</cite> is the flattened syntax to refer a localized string e.g. <cite>address.coordinates</cite></p></li>
<li><p>Files in root localization directory are available in <cite>root</cite> bucket.</p></li>
</ol>
</div>
</div>
<div class="section" id="strict-vs-non-strict-mode-for-localization">
<h2>Strict vs Non-strict mode for Localization<a class="headerlink" href="#strict-vs-non-strict-mode-for-localization" title="Permalink to this headline">¶</a></h2>
<p>By default, Arjuna handles localization in a non-strict mode. This means if localized string is absent for a given reference, it ignores the error and returns the reference as return value.</p>
<ol class="arabic simple">
<li><p>As by default the strict mode if off, <cite>L(“non_existing”)</cite> returns <cite>non_existing</cite>.</p></li>
<li><p>You can enforce strict behavior by providing the <cite>strict=True</cite> argument to the <cite>L</cite> function. The second print statement in above code will raise an exception.</p></li>
<li><p>You can switch on strict mode at the project level by including <cite>l10n.strict = True</cite> in the <cite>project.conf</cite> file.</p></li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Localization of Strings</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#locale-enum">Locale Enum</a></li>
<li><a class="reference internal" href="#excel-based-localization">Excel based Localization</a><ul>
<li><a class="reference internal" href="#sample-localization-file">Sample Localization File</a></li>
<li><a class="reference internal" href="#the-l-function-for-localization">The L function for Localization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#json-based-localization">JSON Based Localization</a><ul>
<li><a class="reference internal" href="#sample-localization-files">Sample Localization Files</a></li>
<li><a class="reference internal" href="#sample-json-content">Sample JSON Content</a></li>
<li><a class="reference internal" href="#using-the-l-function-with-json-localizer">Using the L Function with JSON Localizer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#strict-vs-non-strict-mode-for-localization">Strict vs Non-strict mode for Localization</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="data_ref.html" title="previous chapter">Contextual Data References</a>
          <li>Next: <a href="guiauto/index.html" title="next chapter">Web GUI Automation</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Rahul Verma.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  <script src="_static/version_warning_offset.js"></script>

  </body>
</html>